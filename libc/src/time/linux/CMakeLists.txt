add_header_library(
  clock_gettime_impl
  HDRS
    clock_gettime_impl.h
  DEPENDS
    libc.include.sys_syscall
    libc.src.__support.OSUtil.osutil
    libc.src.__support.error_or
)

add_entrypoint_object(
  time
  SRCS
    time.cpp
  HDRS
    ../time_func.h
  DEPENDS
    .clock_gettime_impl
    libc.include.time
    libc.src.errno.errno
)

add_entrypoint_object(
  clock
  SRCS
    clock.cpp
  HDRS
    ../clock.h
  DEPENDS
    .clock_gettime_impl
    libc.include.time
    libc.src.__support.CPP.limits
    libc.src.errno.errno
)

add_entrypoint_object(
  nanosleep
  SRCS
    nanosleep.cpp
  HDRS
    ../nanosleep.h
  DEPENDS
    libc.include.sys_syscall
    libc.src.__support.OSUtil.osutil
    libc.include.time
    libc.src.__support.CPP.limits
    libc.src.errno.errno
)

add_entrypoint_object(
  clock_gettime
  SRCS
    clock_gettime.cpp
  HDRS
    ../clock_gettime.h
  DEPENDS
    .clock_gettime_impl
    libc.include.time
    libc.src.errno.errno
)

add_entrypoint_object(
  gettimeofday
  SRCS
    gettimeofday.cpp
  HDRS
    ../gettimeofday.h
  DEPENDS
    .clock_gettime_impl
    libc.include.time
    libc.src.errno.errno
)
